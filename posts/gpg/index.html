<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="GPG" /><meta property="og:locale" content="en" /><meta name="description" content="This post will guide and help you how to use gpg. jmc Prerequistes" /><meta property="og:description" content="This post will guide and help you how to use gpg. jmc Prerequistes" /><link rel="canonical" href="https://gitjmc.github.io/posts/gpg/" /><meta property="og:url" content="https://gitjmc.github.io/posts/gpg/" /><meta property="og:site_name" content="JMC-memo" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-02-18T19:35:00-05:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="GPG" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-03-03T22:42:43-05:00","datePublished":"2023-02-18T19:35:00-05:00","description":"This post will guide and help you how to use gpg. jmc Prerequistes","headline":"GPG","mainEntityOfPage":{"@type":"WebPage","@id":"https://gitjmc.github.io/posts/gpg/"},"url":"https://gitjmc.github.io/posts/gpg/"}</script><title>GPG | JMC-memo</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="JMC-memo"><meta name="application-name" content="JMC-memo"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" https://gitjmc.github.io/assets/img/favicons/avatar.jpg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">JMC-memo</a></div><div class="site-subtitle font-italic">À la demande de sisi</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/gitjmc" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>GPG</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>GPG</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/username">Jerbi Mohamed Chamseddine</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1676766900" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2023-02-18 </em> </span> <span> Updated <em class="timeago" data-ts="1741059763" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2025-03-03 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1686 words"> <em>9 min</em> read</span></div></div></div><div class="post-content"><p>This post will guide and help you how to use gpg. jmc</p><h2 id="prerequistes"><span class="mr-2">Prerequistes</span><a href="#prerequistes" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>gpg installed;</ul><p>if not installed</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>apt update <span class="o">&amp;&amp;</span> <span class="nb">install</span> <span class="nt">-y</span> gpg
</pre></table></code></div></div><p>Otherweise if you have docker installed so you can play with it in debian container</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>docker run <span class="nt">-ti</span> <span class="nt">--rm</span> <span class="nt">--name</span> debian debian
</pre></table></code></div></div><p>in the container install gpg</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>apt update <span class="o">&amp;&amp;</span> apt <span class="nb">install</span> <span class="nt">-y</span> vim less tree gpg
</pre></table></code></div></div><h2 id="cli"><span class="mr-2">CLI</span><a href="#cli" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="get-gpg-version"><span class="mr-2">Get gpg version</span><a href="#get-gpg-version" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--version</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">Output</code></p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>gpg <span class="o">(</span>GnuPG<span class="o">)</span> 2.2.27
<span class="gp">$</span><span class="w"> </span>libgcrypt 1.8.8
<span class="gp">$</span><span class="w"> </span>Copyright <span class="o">(</span>C<span class="o">)</span> 2021 Free Software Foundation, Inc.
<span class="gp">$</span><span class="w"> </span>License GNU GPL-3.0-or-later &lt;https://gnu.org/licenses/gpl.html&gt;
<span class="gp">$</span><span class="w"> </span>This is free software: you are ...
<span class="gp">$</span><span class="w"> </span>...
</pre></table></code></div></div><h3 id="get-public-and-secret-keys-list"><span class="mr-2">Get public and secret keys list</span><a href="#get-public-and-secret-keys-list" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Public keys :</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">-k</span>
</pre></table></code></div></div><p>Public with key value :</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--list-keys</span> <span class="nt">--keyid-format</span> LONG
</pre></table></code></div></div><p>Secret keys :</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">-K</span>
</pre></table></code></div></div><p>Secret with key value :</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--list-secret-keys</span> <span class="nt">--keyid-format</span> LONG
</pre></table></code></div></div><h3 id="create-key"><span class="mr-2">Create key</span><a href="#create-key" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--full-generate-key</span>
</pre></table></code></div></div><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--full-gen-key</span>
</pre></table></code></div></div><p>you have to select one option (by default 1) you have to set keysize (between 1024 and 4096 bits) specify how long the key should be valid specify name and email …</p><h2 id="sign"><span class="mr-2">SIGN</span><a href="#sign" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="sign-with-sha"><span class="mr-2">sign with sha</span><a href="#sign-with-sha" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span><span class="nb">sha1sum </span>test.txt 
</pre></table></code></div></div><h3 id="sign-with-gpg"><span class="mr-2">Sign with gpg</span><a href="#sign-with-gpg" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>encapslated in one file (signature + file)</ul><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--clearsign</span> filename
<span class="go">
</span><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--sign</span> test.txt 
</pre></table></code></div></div><ul><li>seperate the signature from the file</ul><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--detach-sign</span> test.txt 
</pre></table></code></div></div><h4 id="to-verify-the-signature"><span class="mr-2">to verify the signature</span><a href="#to-verify-the-signature" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--verify</span> test.txt.gpg 
<span class="go">
</span><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--verify</span> test.txt.sig 
</pre></table></code></div></div><h2 id="encrypt"><span class="mr-2">ENCRYPT</span><a href="#encrypt" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">-r</span> &lt;uidName&gt; <span class="nt">--armor</span> <span class="nt">--encrypt</span> &lt;fileName&gt;
<span class="go">
</span><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">-r</span> meddjerc <span class="nt">--armor</span> <span class="nt">--encrypt</span> mesTodo.txt
<span class="go">
</span><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">-e</span> <span class="nt">-a</span> <span class="nt">-r</span> mohamedchamseddine.jerbi@proton.me file.txt 
<span class="go">
</span><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">-e</span> <span class="nt">-a</span> <span class="nt">-r</span> 0x32424D1AD356BE8E file.txt 
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">-e</code> to encrypt<li><code class="language-plaintext highlighter-rouge">-r</code> specific key (jmc@mail.com or id form <code class="language-plaintext highlighter-rouge">gpg -k</code> command)<li><code class="language-plaintext highlighter-rouge">-a</code> in ascii and not byte format</ul><h2 id="decrypt"><span class="mr-2">DECRYPT</span><a href="#decrypt" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">-d</span> &lt;fileName&gt;
<span class="go">
</span><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">-d</span> mesTodo.asc
<span class="go">
</span><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">-d</span> <span class="nt">-o</span> file.txt file.txt.asc 
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">-o</code> output file</p><h2 id="manage-keys"><span class="mr-2">MANAGE KEYS</span><a href="#manage-keys" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--expert</span> <span class="nt">--edit-key</span> meddjerc
</pre></table></code></div></div><h3 id="add-subkey"><span class="mr-2">Add subkey</span><a href="#add-subkey" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>gpg&gt; addkey
</pre></table></code></div></div><p>To change key’s validity, you have to select the key and tape expire:</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">-K</span>
</pre></table></code></div></div><h2 id="export-keys"><span class="mr-2">EXPORT KEYS</span><a href="#export-keys" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="exporting-a-gpg-private-subkey-and-primary-key"><span class="mr-2">Exporting a GPG private subkey and primary key</span><a href="#exporting-a-gpg-private-subkey-and-primary-key" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Exporting a GPG <strong>private subkey</strong> and <strong>primary key</strong> requires extra care, as these are sensitive cryptographic materials that should be kept secure. The <code class="language-plaintext highlighter-rouge">gpg</code> command-line tool allows you to export private keys (including subkeys) in a format that can be imported elsewhere. Below are the steps to do this.</p><h3 id="steps-to-export-gpg-private-subkey-and-primary-key"><span class="mr-2">Steps to Export GPG Private Subkey and Primary Key</span><a href="#steps-to-export-gpg-private-subkey-and-primary-key" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ol><li><strong>List Your Keys</strong> First, identify the key pair you want to export. Run:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>gpg <span class="nt">--list-secret-keys</span>
</pre></table></code></div></div><p>Example output:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>sec   rsa4096 2023-01-15 [SC] [expires: 2025-01-15]
      1234567890ABCDEF1234567890ABCDEF12345678
ssb   rsa2048 2023-01-15 [E]
      FEDCBA9876543210FEDCBA9876543210FEDCBA98
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">sec</code> is the primary secret key (e.g., <code class="language-plaintext highlighter-rouge">1234567890ABCDEF1234567890ABCDEF12345678</code>).<li><code class="language-plaintext highlighter-rouge">ssb</code> is the secret subkey (e.g., <code class="language-plaintext highlighter-rouge">FEDCBA9876543210FEDCBA9876543210FEDCBA98</code>).</ul><li><strong>Export the Private Primary Key and Subkey</strong> To export both the private primary key and its associated subkeys, use the <code class="language-plaintext highlighter-rouge">--export-secret-keys</code> option with the primary key ID:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>gpg <span class="nt">--armor</span> <span class="nt">--export-secret-keys</span> 1234567890ABCDEF1234567890ABCDEF12345678 <span class="o">&gt;</span> myprivatekey.asc
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">--armor</code>: Outputs the key in ASCII-armored format (readable text).<li><code class="language-plaintext highlighter-rouge">--export-secret-keys</code>: Exports the private key (including subkeys by default).<li><code class="language-plaintext highlighter-rouge">&gt; myprivatekey.asc</code>: Saves the output to a file.</ul><p>If your key is passphrase-protected (which it should be), you’ll be prompted to enter the passphrase.</p><li><strong>Export Only the Private Subkey (Optional)</strong> If you want to export <em>only</em> the private subkey (without the primary key), use the subkey ID with an exclamation mark (<code class="language-plaintext highlighter-rouge">!</code>):<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>gpg <span class="nt">--armor</span> <span class="nt">--export-secret-keys</span> FEDCBA9876543210FEDCBA9876543210FEDCBA98! <span class="o">&gt;</span> mysubkey_private.asc
</pre></table></code></div></div><ul><li>The <code class="language-plaintext highlighter-rouge">!</code> ensures only the specified subkey is exported, not the primary key or other subkeys.</ul><p>Again, enter the passphrase if prompted.</p><li><strong>Verify the Exported File</strong> Check the file to ensure it was exported correctly:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">cat </span>myprivatekey.asc
</pre></table></code></div></div><p>It should start with:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>-----BEGIN PGP PRIVATE KEY BLOCK-----
...
-----END PGP PRIVATE KEY BLOCK-----
</pre></table></code></div></div><li><strong>Secure the Exported File</strong> Private keys are sensitive! Protect the exported file:<ul><li>Store it in a secure location (e.g., encrypted drive).<li>Optionally, encrypt it with a new passphrase using:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>gpg <span class="nt">--armor</span> <span class="nt">--output</span> myprivatekey.asc.gpg <span class="nt">--symmetric</span> myprivatekey.asc
</pre></table></code></div></div><p>This creates an encrypted version (<code class="language-plaintext highlighter-rouge">myprivatekey.asc.gpg</code>) with a new passphrase.</p></ul></ol><h3 id="important-notes"><span class="mr-2">Important Notes</span><a href="#important-notes" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><strong>Passphrase</strong>: If your key is protected (as it should be), you’ll need the passphrase to export or use it later.<li><strong>Subkey Inclusion</strong>: By default, <code class="language-plaintext highlighter-rouge">--export-secret-keys</code> with the primary key ID exports the primary key <em>and all associated subkeys</em>. Use the <code class="language-plaintext highlighter-rouge">!</code> syntax to isolate a specific subkey.<li><strong>Backup</strong>: Exporting private keys is typically for backup or migration (e.g., moving to a new machine). Avoid unnecessary exports.<li><strong>Revocation</strong>: If the exported private key is compromised, ensure you have a revocation certificate ready to invalidate it.</ul><h3 id="example-workflow"><span class="mr-2">Example Workflow</span><a href="#example-workflow" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>Export primary key + subkeys:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>gpg <span class="nt">--armor</span> <span class="nt">--export-secret-keys</span> 1234567890ABCDEF1234567890ABCDEF12345678 <span class="o">&gt;</span> myfullkey.asc
</pre></table></code></div></div><li>Export only a subkey:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>gpg <span class="nt">--armor</span> <span class="nt">--export-secret-keys</span> FEDCBA9876543210FEDCBA9876543210FEDCBA98! <span class="o">&gt;</span> mysubkey.asc
</pre></table></code></div></div></ul><h3 id="exporting-a-gpg-public-subkey-and-primary-key"><span class="mr-2">Exporting a GPG public subkey and primary key</span><a href="#exporting-a-gpg-public-subkey-and-primary-key" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>To export a GPG public subkey, you’ll need to use the <code class="language-plaintext highlighter-rouge">gpg</code> command-line tool. Below are the steps to do this. I’ll assume you have GPG installed and have already generated a key pair with subkeys. If not, let me know, and I can guide you through that as well!</p><h3 id="steps-to-export-a-gpg-public-subkey"><span class="mr-2">Steps to Export a GPG Public Subkey</span><a href="#steps-to-export-a-gpg-public-subkey" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ol><li><strong>List Your Keys</strong> First, identify the key and subkey you want to export. Run the following command to list all keys in your keyring:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>gpg <span class="nt">--list-keys</span>
</pre></table></code></div></div><p>This will display something like:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>pub   rsa4096 2023-01-15 [SC] [expires: 2025-01-15]
      1234567890ABCDEF1234567890ABCDEF12345678
uid           [ultimate] Your Name &lt;your.email@example.com&gt;
sub   rsa2048 2023-01-15 [E]
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">pub</code> is your primary key.<li><code class="language-plaintext highlighter-rouge">sub</code> is your subkey (e.g., for encryption <code class="language-plaintext highlighter-rouge">[E]</code> or signing <code class="language-plaintext highlighter-rouge">[S]</code>).<li>Note the key ID (e.g., <code class="language-plaintext highlighter-rouge">1234567890ABCDEF1234567890ABCDEF12345678</code>).</ul><li><p><strong>Export the Public Subkey</strong> To export only the public subkey (not the primary key), use the <code class="language-plaintext highlighter-rouge">--export</code> option with the subkey ID. Subkeys are often referenced by appending an exclamation mark (<code class="language-plaintext highlighter-rouge">!</code>) to the key ID to ensure only the subkey is exported. However, you’ll need to identify the specific subkey ID first.</p><p>Run this to list the keys with more detail, including subkey IDs:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>gpg <span class="nt">--list-keys</span> <span class="nt">--with-subkey-fingerprints</span>
</pre></table></code></div></div><p>Output might look like:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>pub   rsa4096 2023-01-15 [SC] [expires: 2025-01-15]
      1234567890ABCDEF1234567890ABCDEF12345678
uid           [ultimate] Your Name &lt;your.email@example.com&gt;
sub   rsa2048 2023-01-15 [E]
      FEDCBA9876543210FEDCBA9876543210FEDCBA98
</pre></table></code></div></div><p>Here, <code class="language-plaintext highlighter-rouge">FEDCBA9876543210FEDCBA9876543210FEDCBA98</code> is the subkey’s fingerprint.</p><p>Now, export the subkey:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>gpg <span class="nt">--armor</span> <span class="nt">--export</span> FEDCBA9876543210FEDCBA9876543210FEDCBA98! <span class="o">&gt;</span> mysubkey.pub
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">--armor</code>: Outputs the key in ASCII-armored format (readable text).<li><code class="language-plaintext highlighter-rouge">!</code>: Ensures only the subkey is exported, not the primary key.<li><code class="language-plaintext highlighter-rouge">&gt; mysubkey.pub</code>: Saves the output to a file (e.g., <code class="language-plaintext highlighter-rouge">mysubkey.pub</code>).</ul><li><strong>Verify the Exported Subkey</strong> Check the exported file:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">cat </span>mysubkey.pub
</pre></table></code></div></div><p>It should look like a standard GPG public key block but only contain the subkey data.</p><li><strong>Optional: Export All Subkeys</strong> If you want to export all subkeys along with the primary key, simply use the primary key ID without the <code class="language-plaintext highlighter-rouge">!</code>:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>gpg <span class="nt">--armor</span> <span class="nt">--export</span> 1234567890ABCDEF1234567890ABCDEF12345678 <span class="o">&gt;</span> mykey_with_subkeys.pub
</pre></table></code></div></div></ol><h3 id="notes"><span class="mr-2">Notes</span><a href="#notes" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>Replace the key IDs with your actual key/subkey fingerprints.<li>If you’re unsure which subkey to export (e.g., encryption vs. signing), the <code class="language-plaintext highlighter-rouge">[E]</code> or <code class="language-plaintext highlighter-rouge">[S]</code> in the output of <code class="language-plaintext highlighter-rouge">--list-keys</code> indicates its purpose.<li>The exported file (<code class="language-plaintext highlighter-rouge">mysubkey.pub</code>) can be shared with others to allow them to use your subkey (e.g., for encryption).</ul><h2 id="import-keys"><span class="mr-2">IMPORT KEYS</span><a href="#import-keys" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>To import a GPG public subkey, you’ll use the <code class="language-plaintext highlighter-rouge">gpg</code> command-line tool to add it to your keyring. This assumes you have a file containing the public subkey (e.g., exported as described earlier). Below are the steps to import it.</p><h3 id="steps-to-import-a-gpg-public-subkey"><span class="mr-2">Steps to Import a GPG Public Subkey</span><a href="#steps-to-import-a-gpg-public-subkey" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ol><li><strong>Obtain the Public Subkey File</strong> Ensure you have the file containing the public subkey you want to import. For example, it might be named <code class="language-plaintext highlighter-rouge">mysubkey.pub</code> and contain an ASCII-armored public key block that looks like this:<div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>-----BEGIN PGP PUBLIC KEY BLOCK-----
...
-----END PGP PUBLIC KEY BLOCK-----
</pre></table></code></div></div><li><strong>Import the Subkey</strong> Use the <code class="language-plaintext highlighter-rouge">gpg --import</code> command to add the subkey to your keyring:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>gpg <span class="nt">--import</span> mysubkey.pub
</pre></table></code></div></div><ul><li>Replace <code class="language-plaintext highlighter-rouge">mysubkey.pub</code> with the actual filename.</ul><p>Example output:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>gpg: key 1234567890ABCDEF12345678: public key "Your Name &lt;your.email@example.com&gt;" imported
gpg: key FEDCBA9876543210FEDCBA98: subkey imported
gpg: Total number processed: 1
gpg:               imported: 1
</pre></table></code></div></div><li><strong>Verify the Import</strong> Check that the subkey has been added to your keyring by listing your keys:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>gpg <span class="nt">--list-keys</span>
</pre></table></code></div></div><p>Or, for more detail including subkeys:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>gpg <span class="nt">--list-keys</span> <span class="nt">--with-subkey-fingerprints</span>
</pre></table></code></div></div><p>Look for the subkey’s fingerprint (e.g., <code class="language-plaintext highlighter-rouge">FEDCBA9876543210FEDCBA98</code>) under the primary key it belongs to. The output might look like:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>pub   rsa4096 2023-01-15 [SC] [expires: 2025-01-15]
      1234567890ABCDEF1234567890ABCDEF12345678
uid           [ultimate] Your Name &lt;your.email@example.com&gt;
sub   rsa2048 2023-01-15 [E]
      FEDCBA9876543210FEDCBA9876543210FEDCBA98
</pre></table></code></div></div><li><strong>Trust the Key (Optional)</strong> If this subkey belongs to someone else’s key and you want to use it (e.g., for encryption or verification), you may need to assign a trust level:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>gpg <span class="nt">--edit-key</span> 1234567890ABCDEF1234567890ABCDEF12345678
</pre></table></code></div></div><p>Inside the GPG interactive prompt:</p><ul><li>Type <code class="language-plaintext highlighter-rouge">trust</code> and follow the prompts to set a trust level (e.g., “marginal” or “full”).<li>Type <code class="language-plaintext highlighter-rouge">quit</code> to exit.</ul></ol><h3 id="notes-1"><span class="mr-2">Notes</span><a href="#notes-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>The subkey will be associated with its primary key if the primary key is already in your keyring. If the primary key isn’t present, GPG will still import the subkey, but it may appear as an orphan until the primary key is imported.<li>If the subkey file contains multiple keys or subkeys, <code class="language-plaintext highlighter-rouge">gpg --import</code> will process all of them.<li>If you encounter an error (e.g., “not a key”), ensure the file is a valid GPG public key block.</ul><h2 id="delete-keys"><span class="mr-2">DELETE KEYS</span><a href="#delete-keys" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><blockquote class="prompt-warning"><div><p>You have to delete the secret before the public key.</p></div></blockquote><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--delete-secret-keys</span> mohamedchamseddine.jerbi@proton.me
<span class="go">
</span><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--delete-secret-keys</span> 0xCFB96EEE8C837DDA
<span class="go">
</span><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--delete-keys</span> mohamedchaseddine.jerbi@proton.me
</pre></table></code></div></div><blockquote class="prompt-tip"><div><p>To exit from mutliline <code class="language-plaintext highlighter-rouge">insert</code> command, tape <code class="language-plaintext highlighter-rouge">Ctrl+D</code>.</p></div></blockquote><blockquote class="prompt-tip"><div><p>keys are saved in ~/.gnupg/</p></div></blockquote><h2 id="change-passphrase"><span class="mr-2">Change passphrase</span><a href="#change-passphrase" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--passwd</span> usename@mail.com
</pre></table></code></div></div><ul><li>you have to put your current passphrase and after the new one.</ul><h2 id="revoke-key"><span class="mr-2">REVOKE KEY</span><a href="#revoke-key" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>go to location where your located revoke file</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--import</span> revoke-file-name
</pre></table></code></div></div><h2 id="edit-key"><span class="mr-2">EDIT KEY</span><a href="#edit-key" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><blockquote class="prompt-danger"><div><p>Unable to monitor directories for changes because iNotify max watches exceeded.</p></div></blockquote><p>Run these commands from the host (not in the docker container)</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--edit-key</span> mohamedchamseddine.jerbi@proton.me
</pre></table></code></div></div><ul><li>you have to select wich key you want to edit (key 0, key 1 …)<li>to chage validity tape <code class="language-plaintext highlighter-rouge">expire</code><li>don’t forget to <code class="language-plaintext highlighter-rouge">save</code> before quit</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/privacy/'>Privacy</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/encryption/" class="post-tag no-text-decoration" >encryption</a> <a href="/tags/decryption/" class="post-tag no-text-decoration" >decryption</a> <a href="/tags/signature/" class="post-tag no-text-decoration" >signature</a> <a href="/tags/gpg/" class="post-tag no-text-decoration" >gpg</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=GPG - JMC-memo&amp;url=https://gitjmc.github.io/posts/gpg/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=GPG - JMC-memo&amp;u=https://gitjmc.github.io/posts/gpg/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://gitjmc.github.io/posts/gpg/&amp;text=GPG - JMC-memo" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://gitjmc.github.io/posts/gpg/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <a href="http://service.weibo.com/share/share.php?title=GPG - JMC-memo&amp;url=https://gitjmc.github.io/posts/gpg/" data-toggle="tooltip" data-placement="top" title="Weibo" target="_blank" rel="noopener" aria-label="Weibo"> <i class="fa-fw fab fa-weibo"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/esp32/">ESP 32</a><li><a href="/posts/iot-project/">Iot Project with ESP 32</a><li><a href="/posts/secureFormQualtrics/">How to secure Form in Qualtrics</a><li><a href="/posts/mosquitto-tls/">Mosquitto with Docker Compose and Base Authentication & Let's Encrypt (DuckDNS)</a><li><a href="/posts/docker-install/">Install Docker on Deepin 20.x</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/security/">security</a> <a class="post-tag" href="/tags/tuto/">tuto</a> <a class="post-tag" href="/tags/angular/">angular</a> <a class="post-tag" href="/tags/dev/">dev</a> <a class="post-tag" href="/tags/access/">access</a> <a class="post-tag" href="/tags/nextcloud/">nextcloud</a> <a class="post-tag" href="/tags/real-time/">real-time</a> <a class="post-tag" href="/tags/wireguard/">wireguard</a> <a class="post-tag" href="/tags/api/">api</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/sign-gpg/"><div class="card-body"> <em class="timeago small" data-ts="1740915300" > 2025-03-02 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>How to sign with gpg key</h3><div class="text-muted small"><p> Signing with a GPG key allows you to verify the authenticity and integrity of a message, file, or data, proving it came from you and hasn’t been altered. Below are the steps to sign something using...</p></div></div></a></div><div class="card"> <a href="/posts/create-gpg/"><div class="card-body"> <em class="timeago small" data-ts="1740918900" > 2025-03-02 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>How to create gpg key</h3><div class="text-muted small"><p> Creating a GPG key involves generating a primary key pair (public and private keys) and optionally adding subkeys for specific purposes like encryption or signing. Below are the steps to create a G...</p></div></div></a></div><div class="card"> <a href="/posts/manage-encrypt-decrypt-with-gpg-key/"><div class="card-body"> <em class="timeago small" data-ts="1740926100" > 2025-03-02 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Manage, Encrypt and Decrypt with gpg Keys</h3><div class="text-muted small"><p> Managing, encrypting, and decrypting with a GPG key involves using the gpg command-line tool to handle your keys, secure data, and recover it. Below, I’ll break this into three sections: Managing K...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/firewall-home-network/" class="btn btn-outline-primary" prompt="Older"><p>Firewall secure home network</p></a> <a href="/posts/wireguard/" class="btn btn-outline-primary" prompt="Newer"><p>WireGuard</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://twitter.com/username">Jerbi Mohamed Chamseddine</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/security/">security</a> <a class="post-tag" href="/tags/tuto/">tuto</a> <a class="post-tag" href="/tags/angular/">angular</a> <a class="post-tag" href="/tags/dev/">dev</a> <a class="post-tag" href="/tags/access/">access</a> <a class="post-tag" href="/tags/nextcloud/">nextcloud</a> <a class="post-tag" href="/tags/real-time/">real-time</a> <a class="post-tag" href="/tags/wireguard/">wireguard</a> <a class="post-tag" href="/tags/api/">api</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-REJ95ZFTQX"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-REJ95ZFTQX'); }); </script>
