<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Set up and configure home server" /><meta property="og:locale" content="en" /><meta name="description" content="Lenovo ThinkCentre M900 Tiny" /><meta property="og:description" content="Lenovo ThinkCentre M900 Tiny" /><link rel="canonical" href="https://gitjmc.github.io/posts/homeServer/" /><meta property="og:url" content="https://gitjmc.github.io/posts/homeServer/" /><meta property="og:site_name" content="JMC-memo" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2025-04-01T07:35:00-04:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Set up and configure home server" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-04-01T07:35:00-04:00","datePublished":"2025-04-01T07:35:00-04:00","description":"Lenovo ThinkCentre M900 Tiny","headline":"Set up and configure home server","mainEntityOfPage":{"@type":"WebPage","@id":"https://gitjmc.github.io/posts/homeServer/"},"url":"https://gitjmc.github.io/posts/homeServer/"}</script><title>Set up and configure home server | JMC-memo</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="JMC-memo"><meta name="application-name" content="JMC-memo"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" https://gitjmc.github.io/assets/img/favicons/avatar.jpg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">JMC-memo</a></div><div class="site-subtitle font-italic">À la demande de sisi</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/gitjmc" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Set up and configure home server</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Set up and configure home server</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/username">Jerbi Mohamed Chamseddine</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1743507300" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2025-04-01 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="5225 words"> <em>29 min</em> read</span></div></div></div><div class="post-content"><h2 id="lenovo-thinkcentre-m900-tiny"><span class="mr-2">Lenovo ThinkCentre M900 Tiny</span><a href="#lenovo-thinkcentre-m900-tiny" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>The Lenovo ThinkCentre M900 Tiny is a solid candidate for a compact Ubuntu home server, and its 8GB RAM can be upgraded to boost performance. Below, I’ll address its suitability as an Ubuntu home server, RAM upgrade options, and other considerations based on available information.</p><h3 id="suitability-as-an-ubuntu-home-server"><span class="mr-2">Suitability as an Ubuntu Home Server</span><a href="#suitability-as-an-ubuntu-home-server" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The ThinkCentre M900 Tiny is a micro form factor PC with a 6th-generation Intel Core processor (typically an i5-6500T or similar, 4 cores/4 threads, 35W TDP), making it power-efficient and capable for home server tasks. Here’s why it’s a good fit for an Ubuntu-based home server:</p><ol><li><strong>Hardware Compatibility with Ubuntu</strong>:<ul><li>The M900 Tiny is certified for Ubuntu, with Lenovo listing support for Ubuntu 14.04, and community reports confirm compatibility with newer versions like 18.04 and 22.04.<a href="https://ubuntuforums.org/showthread.php?t=2429683"></a><a href="https://www.reddit.com/r/homelab/comments/1b0dwpr/need_help_install_ubuntu_on_lenovo_thinkcentre/"></a><li>Users have successfully run Ubuntu Server or Desktop on the M900 Tiny for tasks like media servers (Plex, Jellyfin), NAS (OpenMediaVault), Docker containers (Sonarr, Radarr, Grafana), and virtualization (Proxmox, ESXi).<a href="https://www.reddit.com/r/homelab/comments/13h7btx/my_current_homeserver_setup_lenovo_thinkcentre/"></a><a href="https://www.reddit.com/r/HomeServer/comments/10abyme/lenovo_thinkcentre_minipc_for_hosting_plex_and/"></a><li>The integrated Intel HD Graphics 530 and Skylake architecture handle lightweight server tasks well, and the CPU supports hardware transcoding (Intel Quick Sync) for media streaming, though 6th-gen Quick Sync is slightly less efficient than 7th-gen or later.<a href="https://www.reddit.com/r/HomeServer/comments/10abyme/lenovo_thinkcentre_minipc_for_hosting_plex_and/"></a></ul><li><strong>Compact and Power-Efficient</strong>:<ul><li>At ~1.1L in size (179 x 182.9 x 34.5mm), it’s ideal for space-constrained environments.<a href="https://www.servethehome.com/lenovo-thinkcentre-m900-tiny-project-tinyminimicro-guide/"></a><li>The 35W TDP CPU and efficient design result in low power consumption, with users reporting 18-30W under typical server loads, making it cost-effective for 24/7 operation.<a href="https://www.reddit.com/r/homelab/comments/13h7btx/my_current_homeserver_setup_lenovo_thinkcentre/"></a><a href="https://forums.homeseer.com/forum/homeseer-products-services/general-discussion-area/how-to-s/1337091-lenovo-m93p-tiny-homeseer-computer"></a></ul><li><strong>Storage and Connectivity</strong>:<ul><li>It supports one M.2 NVMe SSD (e.g., 256GB-1TB) and one 2.5” SATA drive (HDD or SSD), sufficient for a NAS or media server. Users have added 4TB drives for storage.<a href="https://www.reddit.com/r/homelab/comments/13h7btx/my_current_homeserver_setup_lenovo_thinkcentre/"></a><a href="https://www.hardware-corner.net/desktop-models/Lenovo-ThinkCentre-M900-Tiny/"></a><li>Six USB 3.0 ports, DisplayPort, and an RJ-45 Ethernet port provide ample connectivity for external drives or peripherals.<a href="https://www.hardware-corner.net/desktop-models/Lenovo-ThinkCentre-M900-Tiny/"></a><li>An optional M.2 Wi-Fi/Bluetooth card can be added for wireless connectivity, though Ethernet is preferred for server stability.<a href="https://www.hardware-corner.net/desktop-models/Lenovo-ThinkCentre-M900-Tiny/"></a></ul><li><strong>Current Windows Setup</strong>:<ul><li>The M900 Tiny likely ships with Windows 10 Pro (or a renewed license). Switching to Ubuntu is straightforward, as Ubuntu can be installed on systems with no pre-installed OS or over Windows. You can dual-boot or replace Windows entirely.<a href="https://www.servethehome.com/lenovo-thinkcentre-m900-tiny-project-tinyminimicro-guide/"></a><a href="https://www.reddit.com/r/homelab/comments/1b0dwpr/need_help_install_ubuntu_on_lenovo_thinkcentre/"></a><li>Ubuntu Server is lightweight and doesn’t require a GUI, maximizing resources for server tasks. Ensure you back up data before installing Ubuntu.</ul><li><strong>Use Case Fit</strong>:<ul><li><strong>Media Server</strong>: Suitable for Plex or Jellyfin with hardware transcoding, supporting 2-3 1080p streams or 1-2 4K streams with optimization (avoiding transcoding is ideal).<a href="https://www.reddit.com/r/HomeServer/comments/jd2n43/using_a_lenovo_thinkcentre_mini_for_a_nas_home/"></a><a href="https://www.reddit.com/r/HomeServer/comments/10abyme/lenovo_thinkcentre_minipc_for_hosting_plex_and/"></a><li><strong>NAS</strong>: OpenMediaVault or TrueNAS Scale work well, with users running 4TB drives for SMB shares.<a href="https://www.reddit.com/r/homelab/comments/13h7btx/my_current_homeserver_setup_lenovo_thinkcentre/"></a><li><strong>Docker/Containers</strong>: Portainer and Docker run smoothly for lightweight services like Sonarr, Radarr, or Immich.<a href="https://www.reddit.com/r/homelab/comments/13h7btx/my_current_homeserver_setup_lenovo_thinkcentre/"></a><li><strong>Virtualization</strong>: Proxmox or ESXi can run with 16GB+ RAM, though the 4-core/4-thread CPU limits heavy VM workloads.<a href="https://www.reddit.com/r/homelab/comments/13h7btx/my_current_homeserver_setup_lenovo_thinkcentre/"></a><a href="https://www.reddit.com/r/HomeServer/comments/setiyf/thinkcentre_m900_tiny_max_supported_ram_capacity/"></a><li><strong>Game Servers</strong>: Minecraft or similar servers are viable with 16GB RAM (e.g., 4GB per server for 4 players).<a href="https://www.reddit.com/r/HomeServer/comments/10abyme/lenovo_thinkcentre_minipc_for_hosting_plex_and/"></a></ul></ol><p><strong>Potential Issues</strong>:</p><ul><li><strong>Fan Noise</strong>: Some users report loud fan noise under load, especially with older BIOS versions. Updating the BIOS (July 2022 version) or configuring fan control in Ubuntu (using <code class="language-plaintext highlighter-rouge">lm_sensors</code> and <code class="language-plaintext highlighter-rouge">fancontrol</code>) can mitigate this.<a href="https://bmannconsulting.com/notes/lenovo-m900-tiny-setup/"></a><li><strong>NVMe Issues</strong>: Adding an NVMe drive may cause boot issues (fans at 100%, no video output) if the drive or firmware is incompatible. Updating the BIOS and ensuring drive compatibility (e.g., Samsung 950 Pro) helps.<a href="https://www.servethehome.com/lenovo-thinkcentre-m900-tiny-project-tinyminimicro-guide/2/"></a><li><strong>Windows 11 Incompatibility</strong>: The 6th-gen CPU doesn’t meet Windows 11 requirements, but this is irrelevant for Ubuntu.<a href="https://www.hardware-corner.net/desktop-models/Lenovo-ThinkCentre-M900-Tiny/"></a></ul><h3 id="ram-upgrade-options"><span class="mr-2">RAM Upgrade Options</span><a href="#ram-upgrade-options" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The M900 Tiny’s 8GB RAM (likely 1x8GB or 2x4GB DDR4 SODIMM) is sufficient for basic server tasks but limiting for virtualization, game servers, or multiple Docker containers. Upgrading is straightforward and recommended.</p><ol><li><strong>Maximum RAM Capacity</strong>:<ul><li>The M900 Tiny has <strong>two SO-DIMM slots</strong> and officially supports up to <strong>32GB</strong> (2x16GB) DDR4-2133 per Lenovo’s specs.<a href="https://www.hardware-corner.net/desktop-models/Lenovo-ThinkCentre-M900-Tiny/"></a><li>Community reports confirm <strong>64GB</strong> (2x32GB) works on some units, depending on the motherboard, BIOS, and memory brand (e.g., Crucial, TeamGroup). Success with 64GB requires matched 2x32GB kits (e.g., TeamGroup T-Create DDR4 SODIMM 64GB Kit, 3200MHz, CL22) and BIOS update to FWKTBFA (06/23/2022).<a href="https://www.reddit.com/r/HomeServer/comments/setiyf/thinkcentre_m900_tiny_max_supported_ram_capacity/"></a><li>For reliability, <strong>32GB</strong> is safer and widely supported without compatibility concerns.</ul><li><strong>Upgrade Recommendations</strong>:<ul><li><strong>For Basic Server Tasks</strong> (Plex, NAS, lightweight Docker): Upgrade to <strong>16GB</strong> (2x8GB) DDR4-2133 or DDR4-2400. This is cost-effective (~$25-50) and sufficient for most home servers.<a href="https://www.servethehome.com/lenovo-thinkcentre-m900-tiny-project-tinyminimicro-guide/"></a><a href="https://www.amazon.com/OFFTEK-Replacement-IBM-Lenovo-ThinkCentre-DDR4-19200/dp/B07G5KTWSG"></a><li><strong>For Virtualization/Game Servers</strong> (Proxmox, ESXi, Minecraft): Upgrade to <strong>32GB</strong> (2x16GB) DDR4-2133 (~$50-80). This supports multiple VMs or game servers.<a href="https://www.reddit.com/r/HomeServer/comments/10abyme/lenovo_thinkcentre_minipc_for_hosting_plex_and/"></a><li><strong>For Heavy Workloads</strong>: Attempt <strong>64GB</strong> (2x32GB) (~$120-150) if running memory-intensive tasks (e.g., TrueNAS Scale with ZFS, multiple VMs). Verify compatibility with your unit’s serial number on Lenovo’s support site or test with a matched kit.<a href="https://www.reddit.com/r/HomeServer/comments/setiyf/thinkcentre_m900_tiny_max_supported_ram_capacity/"></a></ul><li><strong>RAM Compatibility</strong>:<ul><li>Use <strong>DDR4 SODIMM, 2133MHz or 2400MHz</strong>, non-ECC, 1.2V. Higher speeds (e.g., 3200MHz) may downclock to 2133MHz.<a href="https://www.hardware-corner.net/desktop-models/Lenovo-ThinkCentre-M900-Tiny/"></a><a href="https://www.reddit.com/r/HomeServer/comments/setiyf/thinkcentre_m900_tiny_max_supported_ram_capacity/"></a><li>Install modules in pairs for dual-channel performance (e.g., 2x8GB instead of 1x16GB).<a href="https://www.mrmemory.co.uk/memory-ram-upgrades/lenovo/thinkcentre/m900-tiny"></a><li>Compatible brands: Crucial, OFFTEK, TeamGroup, G.Skill. Check QVL or Lenovo’s support site for tested modules.<a href="https://www.crucial.com/compatible-upgrade-for/lenovo/thinkcentre-m900-tiny"></a><a href="https://www.amazon.com/OFFTEK-Replacement-IBM-Lenovo-ThinkCentre-DDR4-19200/dp/B07G5KTWSG"></a><a href="https://www.reddit.com/r/HomeServer/comments/setiyf/thinkcentre_m900_tiny_max_supported_ram_capacity/"></a><li>Example: Crucial 16GB Kit (2x8GB) DDR4-2400 (CT2K8G4SFS824A) or TeamGroup 32GB Kit (2x16GB) DDR4-2133.</ul><li><strong>Installation</strong>:<ul><li>Remove the back screw, slide the top panel forward, and lift the 2.5” drive caddy to access the SO-DIMM slots.<a href="https://tweaks.com/windows/67177/building-the-ultimate-windows-10-micro-pc-part-2/"></a><li>No configuration is needed; the system auto-detects new RAM. Update the BIOS first to avoid compatibility issues with larger modules.<a href="https://www.reddit.com/r/HomeServer/comments/setiyf/thinkcentre_m900_tiny_max_supported_ram_capacity/"></a></ul></ol><h3 id="other-upgrade-considerations"><span class="mr-2">Other Upgrade Considerations</span><a href="#other-upgrade-considerations" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>To optimize the M900 Tiny as an Ubuntu home server:</p><ol><li><strong>Storage</strong>:<ul><li>Replace the existing drive with a <strong>256GB-1TB NVMe SSD</strong> for the OS and apps (e.g., Samsung 970 EVO, ~$50-100). Add a <strong>2.5” SATA SSD</strong> (e.g., 1TB, ~$60) or <strong>HDD</strong> (e.g., 4TB Seagate IronWolf, ~$100) for data.<a href="https://www.reddit.com/r/homelab/comments/13h7btx/my_current_homeserver_setup_lenovo_thinkcentre/"></a><a href="https://www.servethehome.com/lenovo-thinkcentre-m900-tiny-project-tinyminimicro-guide/"></a><li>External USB 3.0 drives can expand storage, but internal drives are preferred for reliability. Avoid USB for critical data due to potential failures.<a href="https://www.reddit.com/r/homelab/comments/13h7btx/my_current_homeserver_setup_lenovo_thinkcentre/"></a><a href="https://www.reddit.com/r/HomeServer/comments/jd2n43/using_a_lenovo_thinkcentre_mini_for_a_nas_home/"></a></ul><li><strong>BIOS Update</strong>:<ul><li>Update to the latest BIOS (FWKTBFA, 06/23/2022) to fix fan noise, improve RAM compatibility, and resolve NVMe issues. On Ubuntu, use Lenovo’s bootable USB method or extract files for Linux-based updates.<a href="https://bmannconsulting.com/notes/lenovo-m900-tiny-setup/"></a><a href="https://www.cyberciti.biz/faq/update-lenovo-bios-from-linux-usb-stick-pen/"></a></ul><li><strong>Cooling</strong>:<ul><li>Monitor temperatures with <code class="language-plaintext highlighter-rouge">lm_sensors</code> on Ubuntu. If the fan is noisy, configure fan curves or replace the stock fan with a quieter model (check compatibility).<a href="https://bmannconsulting.com/notes/lenovo-m900-tiny-setup/"></a></ul><li><strong>Networking</strong>:<ul><li>Use the onboard Gigabit Ethernet for stable server performance. If Wi-Fi is needed, add an M.2 Wi-Fi card (e.g., Intel AX200, ~$20).<a href="https://www.hardware-corner.net/desktop-models/Lenovo-ThinkCentre-M900-Tiny/"></a><li>For advanced setups (e.g., pfSense), a USB-to-Gigabit adapter can add a second NIC.<a href="https://www.reddit.com/r/homelab/comments/13h7btx/my_current_homeserver_setup_lenovo_thinkcentre/"></a><a href="https://forums.homeseer.com/forum/homeseer-products-services/general-discussion-area/how-to-s/1337091-lenovo-m93p-tiny-homeseer-computer"></a></ul></ol><h3 id="ubuntu-installation-tips"><span class="mr-2">Ubuntu Installation Tips</span><a href="#ubuntu-installation-tips" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ol><li><strong>Download Ubuntu Server</strong> (22.04 LTS or 24.04 LTS) from ubuntu.com for a lightweight, CLI-based OS. Use Ubuntu Desktop if you prefer a GUI.<li><strong>Create a Bootable USB</strong> with tools like Rufus (on Windows) or <code class="language-plaintext highlighter-rouge">dd</code> (on Linux).<li><strong>Backup Data</strong>: Save any critical files from the Windows setup before wiping the drive.<li><strong>Install Ubuntu</strong>:<ul><li>Boot from the USB, select “Install Ubuntu Server,” and follow the prompts.<li>Choose the NVMe or SATA drive for installation. Configure a static IP for server access.<li>Install updates post-installation (<code class="language-plaintext highlighter-rouge">sudo apt update &amp;&amp; sudo apt upgrade</code>).</ul><li><strong>Drivers</strong>: Ubuntu typically auto-detects drivers for the M900’s Intel chipset, CPU, and networking. If issues arise (e.g., Wi-Fi or audio), check Ubuntu’s HCL or install proprietary drivers via <code class="language-plaintext highlighter-rouge">ubuntu-drivers</code>.<a href="https://www.reddit.com/r/homelab/comments/1b0dwpr/need_help_install_ubuntu_on_lenovo_thinkcentre/"></a><li><strong>Fan Control</strong>: If fan noise persists, install <code class="language-plaintext highlighter-rouge">lm_sensors</code> and <code class="language-plaintext highlighter-rouge">fancontrol</code> (<code class="language-plaintext highlighter-rouge">sudo apt install lm-sensors fancontrol</code>) and configure via <code class="language-plaintext highlighter-rouge">sensors-detect</code>.<a href="https://bmannconsulting.com/notes/lenovo-m900-tiny-setup/"></a><li><strong>Server Software</strong>:<ul><li><strong>NAS</strong>: Install OpenMediaVault (<code class="language-plaintext highlighter-rouge">sudo apt install openmediavault</code>) or TrueNAS Scale.<li><strong>Media Server</strong>: Install Plex or Jellyfin (<code class="language-plaintext highlighter-rouge">sudo apt install plexmediaserver</code> or use Docker).<li><strong>Docker</strong>: Install Docker (<code class="language-plaintext highlighter-rouge">sudo apt install docker.io</code>) and Portainer for container management.<li><strong>Virtualization</strong>: Install Proxmox or KVM for VMs.</ul></ol><h3 id="cost-estimate-for-upgrades"><span class="mr-2">Cost Estimate for Upgrades</span><a href="#cost-estimate-for-upgrades" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><strong>16GB RAM (2x8GB)</strong>: $25-50<li><strong>32GB RAM (2x16GB)</strong>: $50-80<li><strong>64GB RAM (2x32GB)</strong>: $120-150 (if compatible)<li><strong>256GB NVMe SSD</strong>: $30-50<li><strong>4TB 2.5” HDD</strong>: ~$100<li><strong>M.2 Wi-Fi Card</strong>: ~$20 (optional)<li><strong>Total</strong>: $75-300, depending on upgrades</ul><h3 id="recommendations"><span class="mr-2">Recommendations</span><a href="#recommendations" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><strong>Minimum Upgrade</strong>: Add 8GB RAM (total 16GB, ~$25) and a 256GB NVMe SSD (~$30). Install Ubuntu Server 22.04 LTS and OpenMediaVault for a NAS or Plex for media streaming.<li><strong>Optimal Upgrade</strong>: Upgrade to 32GB RAM (2x16GB, ~$60), add a 512GB NVMe SSD (~$50), and a 4TB 2.5” HDD (~$100). Run Proxmox with Docker containers or a TrueNAS Scale setup.<li><strong>Verify 64GB RAM</strong>: If pursuing 64GB, check your model’s serial number on Lenovo’s support site (https://pcsupport.lenovo.com) and test with a compatible kit (e.g., TeamGroup 2x32GB). Update BIOS first.<a href="https://www.reddit.com/r/HomeServer/comments/setiyf/thinkcentre_m900_tiny_max_supported_ram_capacity/"></a></ul><h3 id="final-notes"><span class="mr-2">Final Notes</span><a href="#final-notes" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The ThinkCentre M900 Tiny is an excellent, budget-friendly platform for an Ubuntu home server due to its compact size, low power use, and Ubuntu compatibility. Upgrading to 16-32GB RAM and adding an NVMe SSD will make it versatile for most home server tasks. For heavy virtualization or 64GB RAM, confirm compatibility with your specific unit. If you encounter issues during Ubuntu installation or upgrades (e.g., NVMe boot problems or fan noise), update the BIOS and consult community resources like Reddit’s r/homelab or ubuntuforums.org.<a href="https://www.reddit.com/r/homelab/comments/13h7btx/my_current_homeserver_setup_lenovo_thinkcentre/"></a><a href="https://ubuntuforums.org/showthread.php?t=2429683"></a></p><p>If you share your intended server tasks (e.g., Plex, NAS, VMs) or specific model details (CPU, current storage), I can tailor recommendations further. Would you like help with Ubuntu installation steps or specific software setup?</p><p>Setting up the Lenovo ThinkCentre M900 Tiny with Ubuntu Server for reliable, always-on operation as a home server involves configuring Ubuntu to prevent sleep, optimize power settings, ensure network stability, and secure remote access. Below is a step-by-step guide to configure Ubuntu Server (22.04 LTS or 24.04 LTS recommended) to run continuously without sleeping, along with other essential server settings. These instructions assume you’re starting with a fresh Ubuntu Server installation on the M900 Tiny.</p><hr /><h3 id="step-1-install-ubuntu-server"><span class="mr-2">Step 1: Install Ubuntu Server</span><a href="#step-1-install-ubuntu-server" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ol><li><strong>Download Ubuntu Server</strong>:<ul><li>Go to <a href="https://ubuntu.com/download/server">ubuntu.com/download/server</a> and download the latest LTS version (e.g., 22.04 LTS or 24.04 LTS).</ul><li><strong>Create a Bootable USB</strong>:<ul><li>Use a tool like Rufus (on Windows) or <code class="language-plaintext highlighter-rouge">dd</code> (on Linux) to create a bootable USB drive.<li>Example for <code class="language-plaintext highlighter-rouge">dd</code> on Linux: <code class="language-plaintext highlighter-rouge">sudo dd if=ubuntu-22.04.3-live-server-amd64.iso of=/dev/sdX bs=4M status=progress &amp;&amp; sync</code> (replace <code class="language-plaintext highlighter-rouge">/dev/sdX</code> with your USB device).</ul><li><strong>Install Ubuntu</strong>:<ul><li>Boot the M900 Tiny from the USB (press F12 at startup to select the boot device).<li>Follow the installer prompts:<ul><li>Choose language, keyboard, and network settings (use a static IP for servers; see Step 5).<li>Select the NVMe or SATA drive for installation.<li>Create a user account (e.g., <code class="language-plaintext highlighter-rouge">admin</code> with a strong password).<li>Enable OpenSSH during installation for remote access.<li>Skip additional software unless needed (e.g., Docker, cloud tools).</ul><li>After installation, reboot and log in via the console or SSH.</ul></ol><hr /><h3 id="step-2-prevent-sleep-and-suspend"><span class="mr-2">Step 2: Prevent Sleep and Suspend</span><a href="#step-2-prevent-sleep-and-suspend" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Ubuntu Server is designed to stay awake by default, but certain power-saving settings may enable sleep or suspend, especially if a desktop environment is installed or if the BIOS triggers it. Here’s how to ensure the system never sleeps:</p><ol><li><strong>Disable Sleep in Ubuntu</strong>:<ul><li>Check current power settings:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>systemctl status systemd-suspend.service
</pre></table></code></div></div><p>If it’s active, disable it:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>systemctl mask suspend.target
<span class="nb">sudo </span>systemctl mask sleep.target
<span class="nb">sudo </span>systemctl mask hibernate.target
<span class="nb">sudo </span>systemctl mask hybrid-sleep.target
</pre></table></code></div></div><li>Edit the logind configuration to prevent sleep on idle:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>nano /etc/systemd/logind.conf
</pre></table></code></div></div><p>Set the following lines (add or modify):</p><div class="language-ini highlighter-rouge"><div class="code-header"> <span data-label-text="Ini"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="py">HandleSuspendKey</span><span class="p">=</span><span class="s">ignore</span>
<span class="py">HandleLidSwitch</span><span class="p">=</span><span class="s">ignore</span>
<span class="py">HandleLidSwitchDocked</span><span class="p">=</span><span class="s">ignore</span>
<span class="py">HandlePowerKey</span><span class="p">=</span><span class="s">poweroff</span>
<span class="py">IdleAction</span><span class="p">=</span><span class="s">ignore</span>
</pre></table></code></div></div><p>Save and restart the service:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>systemctl restart systemd-logind
</pre></table></code></div></div></ul><li><strong>Disable Sleep in GRUB</strong>:<ul><li>Some systems may enter sleep due to kernel parameters. Edit GRUB:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>nano /etc/default/grub
</pre></table></code></div></div><p>Modify the <code class="language-plaintext highlighter-rouge">GRUB_CMDLINE_LINUX_DEFAULT</code> line to include <code class="language-plaintext highlighter-rouge">noacpi</code> or <code class="language-plaintext highlighter-rouge">acpi=off</code> if needed (test cautiously, as this disables ACPI features):</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nv">GRUB_CMDLINE_LINUX_DEFAULT</span><span class="o">=</span><span class="s2">"quiet splash noacpi"</span>
</pre></table></code></div></div><p>Update GRUB:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>update Karla update-grub
</pre></table></code></div></div><p>Reboot to apply.</p></ul><li><strong>BIOS Power Settings</strong>:<ul><li>Restart the M900 Tiny and enter the BIOS (press F1 at startup).<li>Navigate to <strong>Power</strong> or <strong>Advanced</strong> settings.<li>Disable options like:<ul><li><strong>C-States</strong> or <strong>C1E</strong> (low-power CPU states).<li><strong>System Idle Power Saving</strong>.<li><strong>Suspend Mode</strong> or <strong>S3 Sleep State</strong>.</ul><li>Set <strong>After Power Loss</strong> to <strong>Restore Last State</strong> or <strong>Turn On</strong> to ensure the system restarts after power outages.<li>Save and exit (F10).</ul><li><strong>Verify No Sleep</strong>:<ul><li>Monitor system state:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>systemd-analyze
</pre></table></code></div></div><li>Ensure the system stays in the <code class="language-plaintext highlighter-rouge">running</code> state. Test by leaving it idle for hours and checking if it remains accessible via SSH or console.</ul></ol><hr /><h3 id="step-3-optimize-power-and-performance"><span class="mr-2">Step 3: Optimize Power and Performance</span><a href="#step-3-optimize-power-and-performance" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>To balance performance and efficiency on the M900 Tiny:</p><ol><li><strong>Set CPU Governor</strong>:<ul><li>Use the <code class="language-plaintext highlighter-rouge">performance</code> governor for maximum CPU performance or <code class="language-plaintext highlighter-rouge">ondemand</code> for efficiency:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>cpufrequtils
<span class="nb">sudo </span>cpufreq-set <span class="nt">-g</span> performance
</pre></table></code></div></div><p>Verify:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>cpufreq-info
</pre></table></code></div></div></ul><li><strong>Monitor Temperatures and Fan</strong>:<ul><li>Install <code class="language-plaintext highlighter-rouge">lm-sensors</code> to monitor CPU and system temperatures:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>lm-sensors
<span class="nb">sudo </span>sensors-detect
sensors
</pre></table></code></div></div><li>If the fan is noisy (common on M900 Tiny), configure fan control:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>fancontrol
<span class="nb">sudo </span>pwmconfig
</pre></table></code></div></div><p>Follow prompts to set fan thresholds. If <code class="language-plaintext highlighter-rouge">pwmconfig</code> fails, update the BIOS (see Step 8).</p></ul><li><strong>Disable Unnecessary Services</strong>:<ul><li>Stop services that may consume resources (e.g., GUI if installed):<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>systemctl disable bluetooth
<span class="nb">sudo </span>systemctl disable cups
</pre></table></code></div></div><li>Check running services:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>systemctl list-units <span class="nt">--type</span><span class="o">=</span>service <span class="nt">--state</span><span class="o">=</span>running
</pre></table></code></div></div></ul></ol><hr /><h3 id="step-4-configure-networking"><span class="mr-2">Step 4: Configure Networking</span><a href="#step-4-configure-networking" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>A stable network is critical for a server. Configure a static IP and ensure constant connectivity:</p><ol><li><strong>Set a Static IP</strong>:<ul><li>Edit the Netplan configuration:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>nano /etc/netplan/01-netcfg.yaml
</pre></table></code></div></div><p>Example configuration (adjust for your network):</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="na">network</span><span class="pi">:</span>
  <span class="na">version</span><span class="pi">:</span> <span class="m">2</span>
  <span class="na">ethernets</span><span class="pi">:</span>
    <span class="na">eno1</span><span class="pi">:</span>
      <span class="na">dhcp4</span><span class="pi">:</span> <span class="s">no</span>
      <span class="na">addresses</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">192.168.1.100/24</span>
      <span class="na">gateway4</span><span class="pi">:</span> <span class="s">192.168.1.1</span>
      <span class="na">nameservers</span><span class="pi">:</span>
        <span class="na">addresses</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">8.8.8.8</span><span class="pi">,</span> <span class="nv">8.8.4.4</span><span class="pi">]</span>
</pre></table></code></div></div><p>Apply changes:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>netplan apply
</pre></table></code></div></div><p>Verify:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ip addr
</pre></table></code></div></div></ul><li><strong>Enable Wake-on-LAN (Optional)</strong>:<ul><li>If you want to wake the server remotely:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>ethtool
<span class="nb">sudo </span>ethtool <span class="nt">-s</span> eno1 wol g
</pre></table></code></div></div><p>Enable in BIOS under <strong>Power</strong> &gt; <strong>Wake on LAN</strong> &gt; <strong>Enabled</strong>.</p></ul><li><strong>Test Connectivity</strong>:<ul><li>Ping your router or an external site:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ping 8.8.8.8
</pre></table></code></div></div><li>Ensure the server remains reachable after hours of operation.</ul></ol><hr /><h3 id="step-5-secure-remote-access"><span class="mr-2">Step 5: Secure Remote Access</span><a href="#step-5-secure-remote-access" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>For reliable SSH access and security:</p><ol><li><strong>Update SSH Configuration</strong>:<ul><li>Edit SSH settings:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>nano /etc/ssh/sshd_config
</pre></table></code></div></div><p>Modify or add:</p><div class="language-ini highlighter-rouge"><div class="code-header"> <span data-label-text="Ini"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="err">Port</span> <span class="err">22</span>  <span class="c"># Change to a non-standard port (e.g., 2222) for security
</span><span class="err">PermitRootLogin</span> <span class="err">no</span>
<span class="err">PasswordAuthentication</span> <span class="err">no</span>  <span class="c"># Use SSH keys instead
</span></pre></table></code></div></div><li>Generate an SSH key pair on your client machine:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ssh-keygen <span class="nt">-t</span> rsa <span class="nt">-b</span> 4096
</pre></table></code></div></div><p>Copy the public key to the server:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ssh-copy-id admin@192.168.1.100
</pre></table></code></div></div><p>Restart SSH:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>systemctl restart ssh
</pre></table></code></div></div></ul><li><strong>Install Fail2Ban</strong>:<ul><li>Protect against brute-force attacks:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>fail2ban
<span class="nb">sudo </span>systemctl <span class="nb">enable </span>fail2ban
</pre></table></code></div></div><p>Default settings are sufficient for SSH protection.</p></ul><li><strong>Firewall Setup</strong>:<ul><li>Install and configure UFW:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>ufw
<span class="nb">sudo </span>ufw allow 22  <span class="c"># Or your custom SSH port</span>
<span class="nb">sudo </span>ufw <span class="nb">enable
sudo </span>ufw status
</pre></table></code></div></div><li>Add ports for specific services (e.g., 80 for HTTP, 32400 for Plex).</ul></ol><hr /><h3 id="step-6-install-essential-server-software"><span class="mr-2">Step 6: Install Essential Server Software</span><a href="#step-6-install-essential-server-software" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Based on common home server use cases, install software tailored to your needs:</p><ol><li><strong>NAS (OpenMediaVault)</strong>:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>wget <span class="nt">-O</span> - https://omv-extras.org/install | bash
</pre></table></code></div></div><p>Access the web interface at <code class="language-plaintext highlighter-rouge">http://192.168.1.100</code>.</p><li><strong>Media Server (Plex)</strong>:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>apt-transport-https
wget <span class="nt">-q</span> https://downloads.plex.tv/plex-keys/PlexSign.key <span class="nt">-O</span> - | <span class="nb">sudo </span>apt-key add -
<span class="nb">echo </span>deb https://downloads.plex.tv/repo/deb public main | <span class="nb">sudo tee</span> /etc/apt/sources.list.d/plexmediaserver.list
<span class="nb">sudo </span>apt update
<span class="nb">sudo </span>apt <span class="nb">install </span>plexmediaserver
</pre></table></code></div></div><p>Access at <code class="language-plaintext highlighter-rouge">http://192.168.1.100:32400/web</code>.</p><li><strong>Docker (For Containers)</strong>:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>docker.io
<span class="nb">sudo </span>systemctl <span class="nb">enable </span>docker
<span class="nb">sudo </span>usermod <span class="nt">-aG</span> docker admin
</pre></table></code></div></div><p>Install Portainer for management:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker run <span class="nt">-d</span> <span class="nt">-p</span> 9000:9000 <span class="nt">--name</span> portainer <span class="nt">--restart</span> always <span class="nt">-v</span> /var/run/docker.sock:/var/run/docker.sock portainer/portainer-ce
</pre></table></code></div></div><p>Access at <code class="language-plaintext highlighter-rouge">http://192.168.1.100:9000</code>.</p><li><strong>Virtualization (Proxmox)</strong>:<ul><li>If using Proxmox instead of Ubuntu Server, download the ISO from <a href="https://www.proxmox.com">proxmox.com</a> and install it directly. It includes a web interface for VMs and containers.</ul></ol><hr /><h3 id="step-7-automate-updates-and-backups"><span class="mr-2">Step 7: Automate Updates and Backups</span><a href="#step-7-automate-updates-and-backups" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ol><li><strong>Enable Automatic Updates</strong>:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>unattended-upgrades
<span class="nb">sudo </span>dpkg-reconfigure <span class="nt">-plow</span> unattended-upgrades
</pre></table></code></div></div><p>Choose “Yes” to enable automatic security updates.</p><li><strong>Set Up Backups</strong>:<ul><li>Use <code class="language-plaintext highlighter-rouge">rsync</code> for local backups to an external drive:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>rsync <span class="nt">-avh</span> <span class="nt">--progress</span> /home/admin /mnt/backup
</pre></table></code></div></div><li>For offsite backups, use <code class="language-plaintext highlighter-rouge">rclone</code> with Google Drive or similar:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>rclone
rclone config
</pre></table></code></div></div></ul><li><strong>Monitor Disk Health</strong>:<ul><li>Install <code class="language-plaintext highlighter-rouge">smartmontools</code>:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>smartmontools
<span class="nb">sudo </span>smartctl <span class="nt">-a</span> /dev/sda
</pre></table></code></div></div></ul></ol><hr /><h3 id="step-8-update-bios-optional-but-recommended"><span class="mr-2">Step 8: Update BIOS (Optional but Recommended)</span><a href="#step-8-update-bios-optional-but-recommended" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>To address potential fan noise, NVMe compatibility, or power issues on the M900 Tiny:</p><ol><li><strong>Check Current BIOS Version</strong>:<ul><li>On Ubuntu:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>dmidecode <span class="nt">-s</span> bios-version
</pre></table></code></div></div></ul><li><strong>Download Latest BIOS</strong>:<ul><li>Visit <a href="https://pcsupport.lenovo.com">Lenovo’s support site</a>, enter your M900 Tiny’s serial number, and download the latest BIOS (e.g., FWKTBFA, 06/23/2022).</ul><li><strong>Update BIOS</strong>:<ul><li>Create a bootable USB with Lenovo’s BIOS update tool (Windows-based) or extract the <code class="language-plaintext highlighter-rouge">.rom</code> file and use <code class="language-plaintext highlighter-rouge">flashrom</code> on Ubuntu (advanced).<li>Follow Lenovo’s instructions to flash the BIOS from a USB or Windows environment.</ul></ol><hr /><h3 id="step-9-monitor-and-test"><span class="mr-2">Step 9: Monitor and Test</span><a href="#step-9-monitor-and-test" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ol><li><strong>Install Monitoring Tools</strong>:<ul><li>Use <code class="language-plaintext highlighter-rouge">htop</code> for resource usage:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>htop
htop
</pre></table></code></div></div><li>Install <code class="language-plaintext highlighter-rouge">cockpit</code> for a web-based dashboard:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>cockpit
</pre></table></code></div></div><p>Access at <code class="language-plaintext highlighter-rouge">https://192.168.1.100:9090</code>.</p></ul><li><strong>Test Server Uptime</strong>:<ul><li>Check uptime:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">uptime</span>
</pre></table></code></div></div><li>Leave the server running for 24-48 hours and verify it doesn’t sleep, lose network connectivity, or overheat.</ul><li><strong>Log Monitoring</strong>:<ul><li>Check system logs for errors:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>journalctl <span class="nt">-xe</span>
</pre></table></code></div></div></ul></ol><hr /><h3 id="additional-tips"><span class="mr-2">Additional Tips</span><a href="#additional-tips" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><strong>Fan Noise</strong>: If the fan remains loud after BIOS update, replace it with a compatible Noctua fan (check M900 Tiny’s fan size, ~40mm) or adjust fan curves manually.<li><strong>Power Outages</strong>: Connect the M900 Tiny to a UPS (e.g., APC 600VA, ~$50) to prevent data loss during outages.<li><strong>Specific Use Cases</strong>: If you have a specific server goal (e.g., Plex, Minecraft, NAS), let me know, and I can provide tailored software setup instructions.<li><strong>Community Resources</strong>: Check <a href="https://reddit.com/r/homelab">r/homelab</a> or <a href="https://ubuntuforums.org">ubuntuforums.org</a> for M900 Tiny-specific tips.</ul><hr /><h3 id="verification"><span class="mr-2">Verification</span><a href="#verification" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>After configuration:</p><ul><li>SSH into the server after 24 hours to confirm it’s awake (<code class="language-plaintext highlighter-rouge">ssh admin@192.168.1.100</code>).<li>Check temperatures (<code class="language-plaintext highlighter-rouge">sensors</code>) and fan speed to ensure the system isn’t overheating.<li>Access any installed services (e.g., Plex, OpenMediaVault) to verify functionality.</ul><p>This setup ensures your M900 Tiny runs Ubuntu Server reliably, stays awake, and is optimized for home server tasks. If you encounter issues (e.g., fan noise, network drops) or need help with specific software (e.g., Docker, Proxmox), let me know, and I’ll provide targeted assistance. Would you like detailed instructions for a specific server application or troubleshooting for any hardware concerns?</p><hr /><h2 id="lenovo-thinkcentre-m900-tiny-1"><span class="mr-2">Lenovo ThinkCentre M900 Tiny</span><a href="#lenovo-thinkcentre-m900-tiny-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>The Dell OptiPlex 3020 (assuming a micro, SFF, or mini-tower model with a 4th-generation Intel Core processor) can be configured as an Ubuntu home server similarly to the Lenovo ThinkCentre M900 Tiny, but there are hardware differences that affect compatibility, setup, and performance. Below, I’ll evaluate the Dell 3020’s suitability as an Ubuntu server, confirm whether the same configuration and setup from the M900 Tiny can be applied, and highlight any adjustments needed to prevent sleep, optimize settings, and address hardware-specific considerations.</p><hr /><h3 id="suitability-of-dell-optiplex-3020-as-an-ubuntu-home-server"><span class="mr-2">Suitability of Dell OptiPlex 3020 as an Ubuntu Home Server</span><a href="#suitability-of-dell-optiplex-3020-as-an-ubuntu-home-server" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The Dell OptiPlex 3020 is a business-class desktop from 2014, typically equipped with a 4th-generation Intel Core processor (e.g., i5-4590, 4 cores/4 threads, 3.3GHz, 84W TDP in SFF/mini-tower; or i5-4590T, 4 cores/4 threads, 2.0-3.0GHz, 35W TDP in micro). It’s a capable platform for a home server, but here’s how it compares to the M900 Tiny:</p><ol><li><strong>Hardware Compatibility with Ubuntu</strong>:<ul><li>The OptiPlex 3020 is well-supported by Ubuntu, with Dell providing Ubuntu certification for similar models (e.g., OptiPlex 3010, 3020) on versions like 14.04 LTS. Community reports confirm successful installations of Ubuntu 18.04, 20.04, and 22.04 on the 3020.<li>The Intel Haswell architecture (4th-gen CPUs) and Intel Q87 chipset work seamlessly with Ubuntu’s kernel, including integrated Intel HD Graphics 4600 for lightweight tasks or hardware transcoding (Quick Sync, though less efficient than the M900’s 6th-gen Skylake).<li>Common server tasks like Plex, OpenMediaVault, Docker, or Proxmox run well, though the 3020’s older CPU and higher power draw (especially in SFF/mini-tower) make it less efficient than the M900 Tiny.</ul><li><strong>Form Factor and Power Efficiency</strong>:<ul><li><strong>Micro</strong>: Similar to the M900 Tiny (~1.2L, 182 x 178 x 36mm), with a 35W TDP CPU (e.g., i5-4590T). Power consumption is ~30-50W under load, slightly higher than the M900 Tiny (~18-30W).<li><strong>SFF/Mini-Tower</strong>: Larger (SFF: ~11.4L; mini-tower: ~16.7L) with 65-84W TDP CPUs (e.g., i5-4590). Power draw is ~50-100W, less efficient for 24/7 operation.<li>The micro form factor is ideal for space-constrained setups, but all models are less compact than the M900 Tiny.</ul><li><strong>Storage and Connectivity</strong>:<ul><li><strong>Micro</strong>: One 2.5” SATA bay (HDD/SSD, up to 4TB) and one M.2 SATA slot (for SSDs, not NVMe). No NVMe support limits storage performance compared to the M900 Tiny.<li><strong>SFF/Mini-Tower</strong>: Multiple 3.5”/2.5” SATA bays (e.g., 2-4 drives) and one PCIe slot for additional storage controllers (e.g., HBA for ZFS/TrueNAS). M.2 SATA support may be absent or limited.<li>Connectivity: 4-6 USB ports (2.0/3.0 mix), VGA, DisplayPort/HDMI, and Gigabit Ethernet. No native Wi-Fi, but an M.2 or PCIe Wi-Fi card can be added.<li>Storage flexibility is better in SFF/mini-tower models for NAS setups compared to the M900 Tiny’s single 2.5” bay.</ul><li><strong>RAM</strong>:<ul><li>The 3020 (all form factors) has <strong>two DIMM slots</strong> (non-ECC DDR3, 1600MHz) and supports up to <strong>16GB</strong> (2x8GB) officially. Unlike the M900 Tiny (32-64GB DDR4), 16GB is the maximum, which may limit virtualization or memory-intensive tasks.<li>Your current 8GB (likely 1x8GB or 2x4GB) is adequate for basic tasks (Plex, NAS) but should be upgraded to 16GB for Docker or VMs.</ul><li><strong>Use Case Fit</strong>:<ul><li><strong>Media Server</strong>: Plex/Jellyfin work well with Quick Sync for 1-2 1080p streams or 1 4K stream (avoid transcoding for best performance).<li><strong>NAS</strong>: OpenMediaVault or TrueNAS Core run effectively, especially in SFF/mini-tower with multiple drives.<li><strong>Docker</strong>: Lightweight containers (Sonarr, Radarr) are fine with 8-16GB RAM.<li><strong>Virtualization</strong>: Proxmox or ESXi are viable with 16GB RAM, but the 4-core/4-thread CPU and RAM cap limit heavy VM workloads compared to the M900 Tiny.<li><strong>Game Servers</strong>: Minecraft or similar servers work with 16GB (4-6GB allocated per server).</ul><li><strong>Potential Issues</strong>:<ul><li><strong>Power Consumption</strong>: SFF/mini-tower models use more power than the M900 Tiny, increasing electricity costs for 24/7 operation.<li><strong>No NVMe</strong>: Micro models lack NVMe support, limiting storage speed. SFF/mini-tower can add PCIe NVMe adapters.<li><strong>Fan Noise</strong>: The 3020’s stock cooling can be noisy under load, especially in micro models. BIOS updates or fan replacements may help.<li><strong>BIOS Limitations</strong>: Older BIOS versions may have issues with Linux power management or fan control. Updating is recommended.</ul></ol><hr /><h3 id="can-you-use-the-same-configuration-and-setup"><span class="mr-2">Can You Use the Same Configuration and Setup?</span><a href="#can-you-use-the-same-configuration-and-setup" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The Ubuntu Server setup described for the M900 Tiny (preventing sleep, optimizing power, configuring networking, securing SSH, etc.) is <strong>largely applicable</strong> to the Dell OptiPlex 3020, as both systems use Intel x86-64 architecture and are Linux-compatible. However, hardware differences require adjustments. Below, I’ll adapt the M900 Tiny’s setup instructions for the 3020, noting deviations and specific considerations.</p><hr /><h3 id="step-1-install-ubuntu-server-1"><span class="mr-2">Step 1: Install Ubuntu Server</span><a href="#step-1-install-ubuntu-server-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The installation process is identical:</p><ol><li><strong>Download Ubuntu Server</strong> (22.04 LTS or 24.04 LTS) from <a href="https://ubuntu.com/download/server">ubuntu.com/download/server</a>.<li><strong>Create a Bootable USB</strong> using Rufus or <code class="language-plaintext highlighter-rouge">dd</code> (e.g., <code class="language-plaintext highlighter-rouge">sudo dd if=ubuntu-22.04.3-live-server-amd64.iso of=/dev/sdX bs=4M status=progress &amp;&amp; sync</code>).<li><strong>Install</strong>:<ul><li>Boot from USB (press F12 on the 3020 to enter the boot menu).<li>Configure a static IP, select the SATA/M.2 drive, enable OpenSSH, and create a user (e.g., <code class="language-plaintext highlighter-rouge">admin</code>).<li>Note: If using an M.2 SATA SSD, ensure it’s detected during installation. The 3020 micro doesn’t support NVMe, so avoid NVMe drives unless using a PCIe adapter in SFF/mini-tower.</ul></ol><p><strong>Adjustment</strong>: If the installer fails to detect the M.2 SATA SSD (rare), update the BIOS first (see Step 8) or use a 2.5” SATA drive.</p><hr /><h3 id="step-2-prevent-sleep-and-suspend-1"><span class="mr-2">Step 2: Prevent Sleep and Suspend</span><a href="#step-2-prevent-sleep-and-suspend-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The steps to disable sleep are the same, but BIOS settings differ:</p><ol><li><strong>Disable Sleep in Ubuntu</strong>:<ul><li>Disable suspend services:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>systemctl mask suspend.target sleep.target hibernate.target hybrid-sleep.target
</pre></table></code></div></div><li>Edit <code class="language-plaintext highlighter-rouge">/etc/systemd/logind.conf</code>:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>nano /etc/systemd/logind.conf
</pre></table></code></div></div><p>Set:</p><div class="language-ini highlighter-rouge"><div class="code-header"> <span data-label-text="Ini"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="py">HandleSuspendKey</span><span class="p">=</span><span class="s">ignore</span>
<span class="py">HandleLidSwitch</span><span class="p">=</span><span class="s">ignore</span>
<span class="py">HandleLidSwitchDocked</span><span class="p">=</span><span class="s">ignore</span>
<span class="py">HandlePowerKey</span><span class="p">=</span><span class="s">poweroff</span>
<span class="py">IdleAction</span><span class="p">=</span><span class="s">ignore</span>
</pre></table></code></div></div><p>Restart:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>systemctl restart systemd-logind
</pre></table></code></div></div></ul><li><strong>Disable Sleep in GRUB</strong>:<ul><li>Edit <code class="language-plaintext highlighter-rouge">/etc/default/grub</code>:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>nano /etc/default/grub
</pre></table></code></div></div><p>Add <code class="language-plaintext highlighter-rouge">noacpi</code> if needed (test first):</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nv">GRUB_CMDLINE_LINUX_DEFAULT</span><span class="o">=</span><span class="s2">"quiet splash noacpi"</span>
</pre></table></code></div></div><p>Update:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>update-grub
</pre></table></code></div></div></ul><li><strong>BIOS Power Settings</strong>:<ul><li>Enter the BIOS (press F2 at startup).<li>Navigate to <strong>Power Management</strong>:<ul><li>Disable <strong>Deep Sleep Control</strong> or <strong>S3 Sleep State</strong>.<li>Set <strong>AC Recovery</strong> to <strong>Power On</strong> or <strong>Last State</strong> for power outage recovery.<li>Disable <strong>C-States Control</strong> or <strong>Intel SpeedStep</strong> to prevent low-power modes.</ul><li>Save and exit (F10).<li><strong>Note</strong>: The 3020’s BIOS may have fewer power-saving options than the M900 Tiny, but ensure all sleep-related settings are off.</ul><li><strong>Verify</strong>:<ul><li>Check system state:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>systemd-analyze
</pre></table></code></div></div><li>Leave idle for hours and confirm it stays accessible via SSH.</ul></ol><hr /><h3 id="step-3-optimize-power-and-performance-1"><span class="mr-2">Step 3: Optimize Power and Performance</span><a href="#step-3-optimize-power-and-performance-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ol><li><strong>CPU Governor</strong>:<ul><li>Install and set to <code class="language-plaintext highlighter-rouge">performance</code> or <code class="language-plaintext highlighter-rouge">ondemand</code>:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>cpufrequtils
<span class="nb">sudo </span>cpufreq-set <span class="nt">-g</span> performance
cpufreq-info
</pre></table></code></div></div><li>The 3020’s 4th-gen CPU (e.g., i5-4590) is less efficient than the M900’s 6th-gen, so <code class="language-plaintext highlighter-rouge">ondemand</code> may save power in micro models.</ul><li><strong>Monitor Temperatures and Fan</strong>:<ul><li>Install <code class="language-plaintext highlighter-rouge">lm-sensors</code>:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>lm-sensors
<span class="nb">sudo </span>sensors-detect
sensors
</pre></table></code></div></div><li>For fan control:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>fancontrol
<span class="nb">sudo </span>pwmconfig
</pre></table></code></div></div><p><strong>Note</strong>: The 3020’s fan control may be limited by the BIOS. If <code class="language-plaintext highlighter-rouge">pwmconfig</code> fails, update the BIOS or replace the fan (e.g., Noctua 40mm for micro).</p></ul><li><strong>Disable Unnecessary Services</strong>:<ul><li>Same as M900 Tiny:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>systemctl disable bluetooth cups
systemctl list-units <span class="nt">--type</span><span class="o">=</span>service <span class="nt">--state</span><span class="o">=</span>running
</pre></table></code></div></div></ul></ol><p><strong>Adjustment</strong>: The 3020’s higher TDP (especially SFF/mini-tower) may cause warmer operation. Monitor temperatures and consider adding case fans in larger models.</p><hr /><h3 id="step-4-configure-networking-1"><span class="mr-2">Step 4: Configure Networking</span><a href="#step-4-configure-networking-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The networking setup is identical:</p><ol><li><strong>Static IP</strong>:<ul><li>Edit <code class="language-plaintext highlighter-rouge">/etc/netplan/01-netcfg.yaml</code>:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>nano /etc/netplan/01-netcfg.yaml
</pre></table></code></div></div><p>Example:</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="na">network</span><span class="pi">:</span>
  <span class="na">version</span><span class="pi">:</span> <span class="m">2</span>
  <span class="na">ethernets</span><span class="pi">:</span>
    <span class="na">eno1</span><span class="pi">:</span>
      <span class="na">dhcp4</span><span class="pi">:</span> <span class="s">no</span>
      <span class="na">addresses</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">192.168.1.100/24</span><span class="pi">]</span>
      <span class="na">gateway4</span><span class="pi">:</span> <span class="s">192.168.1.1</span>
      <span class="na">nameservers</span><span class="pi">:</span>
        <span class="na">addresses</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">8.8.8.8</span><span class="pi">,</span> <span class="nv">8.8.4.4</span><span class="pi">]</span>
</pre></table></code></div></div><p>Apply:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>netplan apply
ip addr
</pre></table></code></div></div></ul><li><strong>Wake-on-LAN</strong> (Optional):<ul><li>Enable:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>ethtool
<span class="nb">sudo </span>ethtool <span class="nt">-s</span> eno1 wol g
</pre></table></code></div></div><li>In BIOS, enable <strong>Wake on LAN</strong> under <strong>Power Management</strong>.</ul></ol><p><strong>Adjustment</strong>: The 3020’s Intel I217-LM Ethernet controller is Linux-compatible but may require firmware updates for stability. Check:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>dmesg | <span class="nb">grep </span>ethernet
</pre></table></code></div></div><hr /><h3 id="step-5-secure-remote-access-1"><span class="mr-2">Step 5: Secure Remote Access</span><a href="#step-5-secure-remote-access-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The SSH and security setup is the same:</p><ol><li><strong>SSH Configuration</strong>:<ul><li>Edit <code class="language-plaintext highlighter-rouge">/etc/ssh/sshd_config</code>:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>nano /etc/ssh/sshd_config
</pre></table></code></div></div><p>Set:</p><div class="language-ini highlighter-rouge"><div class="code-header"> <span data-label-text="Ini"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="err">Port</span> <span class="err">2222</span>
<span class="err">PermitRootLogin</span> <span class="err">no</span>
<span class="err">PasswordAuthentication</span> <span class="err">no</span>
</pre></table></code></div></div><p>Copy SSH keys and restart:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>ssh-copy-id admin@192.168.1.100
<span class="nb">sudo </span>systemctl restart ssh
</pre></table></code></div></div></ul><li><strong>Fail2Ban</strong>:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>fail2ban
<span class="nb">sudo </span>systemctl <span class="nb">enable </span>fail2ban
</pre></table></code></div></div><li><strong>Firewall</strong>:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>ufw
<span class="nb">sudo </span>ufw allow 2222
<span class="nb">sudo </span>ufw <span class="nb">enable
sudo </span>ufw status
</pre></table></code></div></div></ol><p><strong>Adjustment</strong>: No changes needed; the 3020’s networking stack supports these settings identically.</p><hr /><h3 id="step-6-install-essential-server-software-1"><span class="mr-2">Step 6: Install Essential Server Software</span><a href="#step-6-install-essential-server-software-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The software installation (Plex, OpenMediaVault, Docker, etc.) is identical to the M900 Tiny:</p><ol><li><strong>NAS (OpenMediaVault)</strong>:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>wget <span class="nt">-O</span> - https://omv-extras.org/install | bash
</pre></table></code></div></div><p><strong>Note</strong>: SFF/mini-tower models support more drives, making them better for NAS.</p><li><strong>Plex</strong>:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>apt-transport-https
wget <span class="nt">-q</span> https://downloads.plex.tv/plex-keys/PlexSign.key <span class="nt">-O</span> - | <span class="nb">sudo </span>apt-key add -
<span class="nb">echo </span>deb https://downloads.plex.tv/repo/deb public main | <span class="nb">sudo tee</span> /etc/apt/sources.list.d/plexmediaserver.list
<span class="nb">sudo </span>apt update
<span class="nb">sudo </span>apt <span class="nb">install </span>plexmediaserver
</pre></table></code></div></div><li><strong>Docker</strong>:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>docker.io
<span class="nb">sudo </span>systemctl <span class="nb">enable </span>docker
<span class="nb">sudo </span>usermod <span class="nt">-aG</span> docker admin
docker run <span class="nt">-d</span> <span class="nt">-p</span> 9000:9000 <span class="nt">--name</span> portainer <span class="nt">--restart</span> always <span class="nt">-v</span> /var/run/docker.sock:/var/run/docker.sock portainer/portainer-ce
</pre></table></code></div></div><li><strong>Proxmox</strong>:<ul><li>Install Proxmox directly from its ISO if preferred over Ubuntu Server.</ul></ol><p><strong>Adjustment</strong>: The 3020’s 16GB RAM cap and 4th-gen CPU limit heavy virtualization. Allocate resources carefully (e.g., 4-6GB for Plex, 2-4GB per VM).</p><hr /><h3 id="step-7-automate-updates-and-backups-1"><span class="mr-2">Step 7: Automate Updates and Backups</span><a href="#step-7-automate-updates-and-backups-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Identical to the M900 Tiny:</p><ol><li><strong>Automatic Updates</strong>:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>unattended-upgrades
<span class="nb">sudo </span>dpkg-reconfigure <span class="nt">-plow</span> unattended-upgrades
</pre></table></code></div></div><li><strong>Backups</strong>:<ul><li>Local: <code class="language-plaintext highlighter-rouge">sudo rsync -avh --progress /home/admin /mnt/backup</code><li>Offsite: Install <code class="language-plaintext highlighter-rouge">rclone</code> and configure.</ul><li><strong>Disk Health</strong>:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>smartmontools
<span class="nb">sudo </span>smartctl <span class="nt">-a</span> /dev/sda
</pre></table></code></div></div></ol><p><strong>Adjustment</strong>: If using multiple drives in SFF/mini-tower, monitor each with <code class="language-plaintext highlighter-rouge">smartctl</code>.</p><hr /><h3 id="step-8-update-bios"><span class="mr-2">Step 8: Update BIOS</span><a href="#step-8-update-bios" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ol><li><strong>Check BIOS Version</strong>:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>dmidecode <span class="nt">-s</span> bios-version
</pre></table></code></div></div><li><strong>Update</strong>:<ul><li>Visit <a href="https://www.dell.com/support">Dell’s support site</a>, enter your 3020’s service tag, and download the latest BIOS (e.g., A20, 2019).<li>Use Dell’s bootable USB method or Windows-based updater (before wiping Windows). On Ubuntu, use <code class="language-plaintext highlighter-rouge">flashrom</code> (advanced) if supported.<li><strong>Why</strong>: Fixes fan control, Linux compatibility, and power management issues.</ul></ol><p><strong>Adjustment</strong>: The 3020’s BIOS updates are critical for Linux, as early versions (e.g., A01) have poor fan control and sleep handling.</p><hr /><h3 id="step-9-monitor-and-test-1"><span class="mr-2">Step 9: Monitor and Test</span><a href="#step-9-monitor-and-test-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Same as M900 Tiny:</p><ol><li><strong>Monitoring</strong>:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>htop cockpit
</pre></table></code></div></div><p>Access Cockpit at <code class="language-plaintext highlighter-rouge">https://192.168.1.100:9090</code>.</p><li><strong>Test Uptime</strong>:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">uptime</span>
</pre></table></code></div></div><li><strong>Logs</strong>:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>journalctl <span class="nt">-xe</span>
</pre></table></code></div></div></ol><p><strong>Adjustment</strong>: The 3020 may run warmer (especially SFF/mini-tower). Ensure good airflow and monitor temperatures.</p><hr /><h3 id="hardware-specific-adjustments-for-dell-3020"><span class="mr-2">Hardware-Specific Adjustments for Dell 3020</span><a href="#hardware-specific-adjustments-for-dell-3020" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ol><li><strong>RAM Upgrade</strong>:<ul><li>Upgrade to <strong>16GB</strong> (2x8GB DDR3-1600, ~$30-50) for optimal performance. Compatible brands: Crucial, Kingston.<li>Unlike the M900 Tiny (32-64GB DDR4), 16GB is the maximum, so prioritize lightweight workloads.<li>Install: Open the case (micro: slide panel; SFF/mini-tower: remove side panel) and insert DIMMs in paired slots.</ul><li><strong>Storage</strong>:<ul><li><strong>Micro</strong>: Use a 2.5” SATA SSD (e.g., 1TB, ~$60) or M.2 SATA SSD (e.g., 256GB, ~$30). Add external USB drives for extra storage.<li><strong>SFF/Mini-Tower</strong>: Install multiple 3.5”/2.5” drives (e.g., 4TB Seagate IronWolf, ~$100 each) for NAS.<li><strong>No NVMe</strong>: For NVMe, add a PCIe-to-NVMe adapter in SFF/mini-tower (~$20).</ul><li><strong>Cooling</strong>:<ul><li>The 3020’s stock fan can be noisy. Replace with a quieter model (e.g., Noctua 80mm for SFF) or adjust fan curves post-BIOS update.<li>Ensure ventilation, especially for SFF/mini-tower with multiple drives.</ul><li><strong>Power Supply</strong>:<ul><li>Micro: External 65W adapter (sufficient).<li>SFF/Mini-Tower: 255W/290W PSU. Consider a higher-efficiency PSU (~$50) for 24/7 operation if adding drives.</ul><li><strong>Form Factor Choice</strong>:<ul><li><strong>Micro</strong>: Best for space and power efficiency, similar to M900 Tiny, but limited storage.<li><strong>SFF/Mini-Tower</strong>: Better for NAS or high-storage setups but less efficient and larger.</ul></ol><hr /><h3 id="key-differences-and-limitations"><span class="mr-2">Key Differences and Limitations</span><a href="#key-differences-and-limitations" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>| Feature | Lenovo ThinkCentre M900 Tiny | Dell OptiPlex 3020 (Micro/SFF) | |————————|—————————–|——————————-| | <strong>CPU</strong> | 6th-gen Intel (e.g., i5-6500T, 35W) | 4th-gen Intel (e.g., i5-4590T, 35W; i5-4590, 84W) | | <strong>RAM</strong> | 32-64GB DDR4 (2x SODIMM) | 16GB DDR3 (2x DIMM) | | <strong>Storage</strong> | 1x M.2 NVMe + 1x 2.5” SATA | Micro: 1x M.2 SATA + 1x 2.5” SATA; SFF: 2-4x SATA | | <strong>NVMe Support</strong> | Yes (M.2 NVMe) | No (SFF can use PCIe adapter) | | <strong>Power Consumption</strong> | 18-30W (micro) | 30-50W (micro); 50-100W (SFF) | | <strong>Size</strong> | 1.1L (micro) | 1.2L (micro); 11.4L (SFF) | | <strong>Fan Noise</strong> | Moderate, BIOS-fixable | Potentially louder, BIOS-dependent |</p><ul><li><strong>RAM Limitation</strong>: The 3020’s 16GB cap restricts heavy virtualization or multi-container Docker setups compared to the M900 Tiny’s 32-64GB.<li><strong>Storage</strong>: The 3020 SFF/mini-tower excels for NAS with multiple drives, but the micro is storage-limited like the M900 Tiny.<li><strong>Efficiency</strong>: The 3020 (especially SFF) consumes more power, increasing costs for 24/7 use.<li><strong>NVMe</strong>: Lack of native NVMe in the 3020 reduces storage performance unless using PCIe adapters in SFF/mini-tower.</ul><hr /><h3 id="recommendations-1"><span class="mr-2">Recommendations</span><a href="#recommendations-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><strong>Use Same Setup</strong>: Apply the M900 Tiny’s Ubuntu Server configuration (Steps 1-9) with the adjustments noted above. The core steps (disabling sleep, static IP, SSH, software) are identical due to Linux compatibility.<li><strong>Form Factor</strong>:<ul><li><strong>Micro</strong>: Ideal for lightweight tasks (Plex, Docker) in small spaces. Upgrade to 16GB RAM and add a 1TB 2.5” SSD.<li><strong>SFF/Mini-Tower</strong>: Better for NAS or storage-heavy setups. Add 16GB RAM, multiple 4TB drives, and a PCIe NVMe adapter if needed.</ul><li><strong>Upgrades</strong>:<ul><li><strong>RAM</strong>: Upgrade to 16GB (2x8GB DDR3-1600, ~$30).<li><strong>Storage</strong>: Micro: 256GB M.2 SATA SSD (~$30) + 4TB 2.5” HDD (~$100). SFF: 512GB SATA SSD (~$50) + 2x 4TB HDD (~$200).<li><strong>Cooling</strong>: Update BIOS and consider fan replacement if noisy.</ul><li><strong>BIOS Update</strong>: Critical for fan control and Linux compatibility. Do this before Ubuntu installation if possible.<li><strong>Workload</strong>: Stick to lightweight tasks (Plex, OpenMediaVault, 1-2 VMs) due to RAM and CPU limits. Avoid heavy virtualization unless using SFF with maxed-out resources.</ul><p><strong>Cost Estimate</strong>:</p><ul><li>16GB RAM: $30<li>256GB M.2 SATA SSD: $30<li>4TB 2.5” HDD: $100<li>Total: ~$60-160 (micro); add $100-200 for SFF multi-drive setups.</ul><hr /><h3 id="verification-1"><span class="mr-2">Verification</span><a href="#verification-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>After setup, test:<ul><li>SSH accessibility after 24 hours (<code class="language-plaintext highlighter-rouge">ssh admin@192.168.1.100</code>).<li>No sleep (<code class="language-plaintext highlighter-rouge">systemd-analyze</code>).<li>Temperatures (<code class="language-plaintext highlighter-rouge">sensors</code>) and fan behavior.<li>Service functionality (e.g., Plex at <code class="language-plaintext highlighter-rouge">http://192.168.1.100:32400</code>).</ul><li>If issues arise (e.g., fan noise, network drops), check BIOS version, update firmware, or consult <a href="https://reddit.com/r/homelab">r/homelab</a> or <a href="https://www.dell.com/community">Dell’s community forums</a>.</ul><p>The Dell 3020 can use nearly the same Ubuntu Server setup as the M900 Tiny with minor tweaks for BIOS, storage, and cooling. It’s a solid choice for a home server, especially the SFF for NAS, though it’s less efficient and RAM-limited compared to the M900 Tiny. If you specify your 3020’s form factor (micro/SFF/mini-tower), CPU, or intended use (e.g., Plex, NAS), I can refine the setup further. Would you like help with a specific software installation or troubleshooting potential 3020 issues?</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/dev/'>DEV</a>, <a href='/categories/linux/'>Linux</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/home-server/" class="post-tag no-text-decoration" >home-server</a> <a href="/tags/dell3020/" class="post-tag no-text-decoration" >dell3020</a> <a href="/tags/lenovom900/" class="post-tag no-text-decoration" >lenovoM900</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Set up and configure home server - JMC-memo&amp;url=https://gitjmc.github.io/posts/homeServer/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Set up and configure home server - JMC-memo&amp;u=https://gitjmc.github.io/posts/homeServer/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://gitjmc.github.io/posts/homeServer/&amp;text=Set up and configure home server - JMC-memo" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://gitjmc.github.io/posts/homeServer/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <a href="http://service.weibo.com/share/share.php?title=Set up and configure home server - JMC-memo&amp;url=https://gitjmc.github.io/posts/homeServer/" data-toggle="tooltip" data-placement="top" title="Weibo" target="_blank" rel="noopener" aria-label="Weibo"> <i class="fa-fw fab fa-weibo"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/secureFormQualtrics/">How to secure Form in Qualtrics</a><li><a href="/posts/mosquitto-tls/">Mosquitto with Docker Compose and Base Authentication & Let's Encrypt (DuckDNS)</a><li><a href="/posts/common-cli/">Common CLI on linux</a><li><a href="/posts/docker-install/">Install Docker on Deepin 20.x</a><li><a href="/posts/docker-install-ubuntu/">Install Docker on ubuntu and Deepin</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/security/">security</a> <a class="post-tag" href="/tags/tuto/">tuto</a> <a class="post-tag" href="/tags/angular/">angular</a> <a class="post-tag" href="/tags/dev/">dev</a> <a class="post-tag" href="/tags/access/">access</a> <a class="post-tag" href="/tags/nextcloud/">nextcloud</a> <a class="post-tag" href="/tags/real-time/">real-time</a> <a class="post-tag" href="/tags/wireguard/">wireguard</a> <a class="post-tag" href="/tags/api/">api</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/iotProjectsUdemy/"><div class="card-body"> <em class="timeago small" data-ts="1743507300" > 2025-04-01 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>IoT project Udemy ressources</h3><div class="text-muted small"><p> Ressources 1 2 3 4 5 6 7 8 9 _ _ ______ _____ _____ (_) | | ____| __ \_ _| _ __ ___ _____| | |__ | | | || | | &#39;_ \| \ \/ / _ \ | __| | | | || | | ...</p></div></div></a></div><div class="card"> <a href="/posts/docker-install-ubuntu/"><div class="card-body"> <em class="timeago small" data-ts="1738396980" > 2025-02-01 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Install Docker on ubuntu and Deepin</h3><div class="text-muted small"><p> Cet article montre comment peut-on installer docker dans Ubuntu1. The best way to install Docker on Ubuntu is to use Docker’s official installation method, which ensures you get the latest stable ...</p></div></div></a></div><div class="card"> <a href="/posts/common-cli/"><div class="card-body"> <em class="timeago small" data-ts="1741520100" > 2025-03-09 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Common CLI on linux</h3><div class="text-muted small"><p> Create non-root user connecting to remote host with the same user on local machine Try root adduser jmc usermod -aG sudo jmc sudo su jmc whoami cd ~ mkdir .ssh chmod 700 .ssh touch .ssh/a...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/mosquitto-tls/" class="btn btn-outline-primary" prompt="Older"><p>Mosquitto with Docker Compose and Base Authentication & Let's Encrypt (DuckDNS)</p></a> <a href="/posts/iotProjectsUdemy/" class="btn btn-outline-primary" prompt="Newer"><p>IoT project Udemy ressources</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://twitter.com/username">Jerbi Mohamed Chamseddine</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/security/">security</a> <a class="post-tag" href="/tags/tuto/">tuto</a> <a class="post-tag" href="/tags/angular/">angular</a> <a class="post-tag" href="/tags/dev/">dev</a> <a class="post-tag" href="/tags/access/">access</a> <a class="post-tag" href="/tags/nextcloud/">nextcloud</a> <a class="post-tag" href="/tags/real-time/">real-time</a> <a class="post-tag" href="/tags/wireguard/">wireguard</a> <a class="post-tag" href="/tags/api/">api</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-REJ95ZFTQX"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-REJ95ZFTQX'); }); </script>
